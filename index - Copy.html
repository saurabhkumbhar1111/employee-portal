<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Employee Portal</title>

    <meta name="theme-color" content="#4a6da7">
    <meta name="description" content="Employee Portal for attendance and salary management">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/dental_lab.png">

    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="container">
        <!-- LOGIN PAGE -->
        <div id="login-page" class="page active">
            <div class="header">
                <h1>Employee Portal</h1>
            </div>

            <div class="card">
                <h2>Login</h2>
                <p class="login-description">Enter your Employee ID to Login</p>

                <div class="form-group">
                    <input type="text" id="employee-id" placeholder="Enter your Employee ID" />
                    <div id="employee-id-error" class="error">Please enter a valid employee ID</div>
                </div>

                <div id="toast" class="toast">
                    <p id="otp-message" style="display:none; color:green; font-weight:500; margin-top:5px;"></p>

                </div>

                <button id="send-otp-btn">Send OTP</button>
                <div id="otp-section" class="otp-section">

                    <div class="form-group">
                        <label for="otp">Enter OTP</label>
                        <input type="text" id="otp" placeholder="Enter OTP sent to your phone" />
                        <div id="otp-error" class="error">Please enter a valid OTP</div>
                    </div>
                    <button id="verify-otp-btn">Verify OTP</button>
                </div>
            </div>
        </div>

        <!-- MENU PAGE (Shown after login) -->
        <div id="menu-page" class="page">
            <div class="header">
                <button id="menu-toggle" class="menu-toggle" aria-label="Open menu">‚ò∞</button>

                <h1>Employee Portal</h1>
                <!-- <button id="top-logout-btn" class="logout-btn">Logout</button> -->
            </div>

            <!-- Sidebar (hidden until login) -->
            <aside id="sidebar" class="sidebar" aria-hidden="true">
                <div class="profile-info">
                    <h3 id="sidebar-employee-name">Employee</h3>
                    <p id="sidebar-employee-id">ID: -</p>
                </div>

                <nav class="sidebar-nav" aria-label="Main menu">
                    <a id="menu-home" href="javascript:void(0)">üè† Home</a>
                    <a id="menu-profile" href="javascript:void(0)">üë§ Profile</a>
                    <a id="menu-attendance" href="javascript:void(0)">üóì Attendance</a>
                    <a id="menu-salary" href="javascript:void(0)">üí∞ Salary Slip</a>
                </nav>


                <div style="flex:1"></div>
                <div style="padding:16px">
                    <button id="menu-logout" class="sidebar-logout">Logout</button>
                </div>
            </aside>

            <!-- Overlay -->
            <div id="sidebar-overlay" class="sidebar-overlay" aria-hidden="true"></div>

            <!-- Main content (profile shown by default) -->
            <main id="menu-content" style="margin:20px;">
                <!-- HOME PAGE -->
                <div id="home-page" class="card">
                    <h2>Welcome, <span id="home-employee-name">Employee</span> üëã</h2>
                    <p>Glad to have you on the Employee Portal.</p>
                </div>

                <!-- PROFILE PAGE -->
                <div id="profile-page" class="card" style="display:none;">
                    <h2>My Profile</h2>
                    <div class="profile-container">
                        <img id="profile-pic" src="icons/dental_lab.png" alt="Profile Picture" class="profile-pic">
                        <div class="profile-details">
                            <p><strong>Name: </strong> <span id="employee-name">Employee</span></p>
                            <p><strong>Employee ID: </strong> <span id="employee-id-display">-</span></p>
                            <p><strong>Mobile: </strong> <span id="employee-phone">N/A</span></p>
                        </div>
                    </div>
                </div>
            </main>

        </div>

        <!-- ATTENDANCE PAGE -->
        <div id="attendance-page" class="page">
            <div class="header">
                <h1>Attendance</h1>
                <button class="logout-btn" id="attendance-logout-btn">Logout</button>
            </div>

            <div class="card">
                <button class="back-btn secondary" id="attendance-back-btn">‚Üê Back</button>

                <div class="calendar-header">
                    <button id="prev-month-btn">‚Üê</button>
                    <h2 id="current-month"></h2>
                    <button id="next-month-btn">‚Üí</button>
                </div>

                <div id="calendar-legend" style="display: flex; gap: 10px; font-size: 0.9rem;">
                    <span style="background-color: #a5d6a7; padding: 3px 8px; border-radius: 6px;">üü¢ P - Present</span>
                    <span style="background-color: #ef9a9a; padding: 3px 8px; border-radius: 6px;">üî¥ A - Absent</span>
                    <span style="background-color: #fff59d; padding: 3px 8px; border-radius: 6px;">üü° H - Holiday</span>
                    <span style="background-color: #f0f0f0; padding: 3px 8px; border-radius: 6px;">‚ö™ W - Weekend</span>
                </div>

                <div class="calendar-wrapper">
                    <table class="calendar">
                        <thead>
                            <tr>
                                <th>Sun</th>
                                <th>Mon</th>
                                <th>Tue</th>
                                <th>Wed</th>
                                <th>Thu</th>
                                <th>Fri</th>
                                <th>Sat</th>
                            </tr>
                        </thead>
                        <tbody id="calendar-body"></tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- Attendance Popup -->
        <div id="attendance-popup" class="attendance-popup">
            <div class="attendance-popup-content">
                <span id="popup-close">&times;</span>
                <h3>Attendance Details</h3>
                <p><strong>In Time:</strong> <span id="popup-intime">-</span></p>
                <p><strong>Out Time:</strong> <span id="popup-outtime">-</span></p>
            </div>
        </div>


        <!-- Loader -->
        <div id="attendance-loader" class="loader-overlay" style="display:none;">
            <div class="spinner"></div>
            <p>Loading attendance...</p>
        </div>

        <!-- SALARY PAGE -->
        <div id="salary-page" class="page">
            <div class="header">
                <h1>Salary Slips</h1>
                <button class="logout-btn" id="salary-logout-btn">Logout</button>
            </div>

            <div class="card">
                <button class="back-btn secondary" id="salary-back-btn">‚Üê Back</button>
                <p class="salary-description">Download your salary slip here.</p>
                <div class="month-list" id="month-list"></div>
                <div id="salary-slip" class="salary-slip"></div>
            </div>
        </div>
    </div>

    <!-- JS (auth first so login UI works) -->
    <script src="auth.js"></script>
    <script src="attendance.js"></script>
    <script src="salary.js"></script>
    <script src="app.js"></script>
</body>

</html>